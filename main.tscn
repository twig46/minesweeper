[gd_scene load_steps=10 format=3 uid="uid://rrfj6px2553t"]

[ext_resource type="Script" uid="uid://jaqdkmgejt3j" path="res://minegrid.gd" id="1_ig7tw"]
[ext_resource type="Texture2D" uid="uid://di8fssc4rct38" path="res://map.png" id="2_h2yge"]
[ext_resource type="Script" uid="uid://y82eav7geqfk" path="res://tile.gd" id="3_h2yge"]
[ext_resource type="Texture2D" uid="uid://b4pcb1ah51gu6" path="res://reference.png" id="4_1bvp3"]
[ext_resource type="Script" uid="uid://d3d16ki3jhf4u" path="res://face.gd" id="5_lquwl"]

[sub_resource type="Theme" id="Theme_0xm2m"]
GridContainer/constants/h_separation = 0
GridContainer/constants/v_separation = 0

[sub_resource type="AtlasTexture" id="AtlasTexture_h2yge"]
atlas = ExtResource("2_h2yge")
region = Rect2(153, 49, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_1bvp3"]
atlas = ExtResource("2_h2yge")
region = Rect2(0, 24, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_lquwl"]
atlas = ExtResource("2_h2yge")
region = Rect2(25, 24, 24, 24)

[node name="main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="sweeper" type="Control" parent="."]
z_index = 10
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 216.0
offset_top = 108.0
offset_right = -521.0
offset_bottom = -126.0
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 1

[node name="minegrid" type="GridContainer" parent="sweeper"]
z_index = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -2.0
offset_right = -2.0
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_0xm2m")
script = ExtResource("1_ig7tw")

[node name="tile" type="TextureButton" parent="sweeper/minegrid"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
button_mask = 3
texture_normal = SubResource("AtlasTexture_h2yge")
ignore_texture_size = true
stretch_mode = 0
script = ExtResource("3_h2yge")

[node name="NinePatchRect" type="NinePatchRect" parent="sweeper"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -50.0
offset_top = -48.0
offset_right = 30.0
offset_bottom = 32.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("4_1bvp3")
draw_center = false
region_rect = Rect2(0, 172, 1104, 1104)
patch_margin_left = 48
patch_margin_top = 48
patch_margin_right = 32
patch_margin_bottom = 32

[node name="face" type="TextureButton" parent="."]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -231.0
offset_top = 60.0
offset_right = -110.0
offset_bottom = 181.0
grow_horizontal = 0
texture_normal = SubResource("AtlasTexture_1bvp3")
texture_pressed = SubResource("AtlasTexture_lquwl")
ignore_texture_size = true
stretch_mode = 0
script = ExtResource("5_lquwl")

[node name="gridx" type="SpinBox" parent="."]
layout_mode = 0
offset_left = 951.0
offset_top = 185.0
offset_right = 1037.56
offset_bottom = 216.0
suffix = "x"

[node name="gridy" type="SpinBox" parent="."]
layout_mode = 0
offset_left = 951.0
offset_top = 219.0
offset_right = 1037.56
offset_bottom = 250.0
suffix = "y"

[node name="mines" type="SpinBox" parent="."]
layout_mode = 0
offset_left = 951.0
offset_top = 252.0
offset_right = 1037.56
offset_bottom = 283.0
suffix = "mines"

[connection signal="pressed" from="sweeper/minegrid/tile" to="sweeper/minegrid/tile" method="_on_press"]
[connection signal="button_up" from="face" to="face" method="_on_reset"]
